## Machine prerequisites:
====================================================
liveController & liveRecorder can be installed in single or separate machines.

## Software prerequisites:
====================================================
 - Centos 6.8+
 - ffmpeg 3.0 -  (run build_scripts/build_ffmpeg.sh)


 ## New installation of liveController version v1.16.1+:
 ====================================================
 # General
 - it is recommended to install each version in directory created with the version name
 and use symlic from latest to the currently used version

 - install latest liveController version from git:
 wget https://github.com/kaltura/liveDVR/archive/v[1.16.x].tar.gz
 tar -xvzf v[1.16.x].tar.gz
 mv liveDVR-[1.16.x] [installation base path]
 rm -f v[1.16.x].tar.gz
 - install Node Version Manager 6.3.0+
 - install Node Packaged Modules (npm) 1.4.3+
 - create configMapping.json from common/config/configMapping.json.template:

    general configuration:
    =======================================
    @LIVE_CONTENT_PATH@ - root path to all live streams content
 	@LIVE_ARCHIVE_CONTENT_PATH@ - root path for archived live streams content
 	@LOG_FILE_NAME@ - liveController's log filename, including full path

 	BE server configuration section:
 	===================================
 	@KALTURA_SERVICE_URL@ - url to access the BE server (example:  "http://my_backend_server.com")
 	@KALTURA_PARTNER_ADMIN_SECRET@ - admin secret for secured access to BE server
 	@KALTURA_PARTNER_ID@ - partner id

 	media server configuration section:
 	===================================
 	@HOSTNAME@ - wowza (media-server), machine hostname
 	@WOWZA_ADMIN_USER@ - credentials to access wowza server
 	@WOWZA_ADMIN_PASSWORD@ - credentials to access wowza server

    recording configuration section:
    ==================================
    @RECORDING_FOLDER@ - root path to all recording streams content.

    copy configMapping.json generated by from configMapping.json to common/config dir.

    binaries build:
    =================================
    - install and build ffmpeg 3.0
    > build_scripts/build_ffmpg.sh <ffmpeg build path> <ffmpeg version>
    - build FormatConverter
    > build_scripts/build_addons.sh [installation path] <ffmpeg build path>

    optional:
    =================================
    - create latest directory under liveController installation root path
    > mkdir -p [installation base path]/latest
    - create symlink from current installed version path to latest dir
    ln -s [installation base path]/version [installation base path]/latest
    - create symlink to process daemon wrapper under /etc/init.d
    ln -s [installation base path]/latest/serviceWrappers/linux/kLiveController /etc/init.d/kLiveController
    - start liveController
    /etc/init.d/kLiveController start



 ## liveController upgrade:
 ====================================================
  - deployment/upgradeLive can be used for upgrade
  > [installation base path]/latest/deployment/upgradeLive v1.16.x
  alternatively download and install latest version according to following instructions:
   wget https://github.com/kaltura/liveDVR/archive/v[1.16.x].tar.gz
   tar -xvzf v[1.16.x].tar.gz
   mv liveDVR-[1.16.x] [installation base path]
   rm -f v[1.16.x].tar.gz
   - install Node Version Manager 6.3.0+
   - install Node Packaged Modules (npm) 1.4.3+
   - stop liveController
   /etc/init.d/kLiveController stop
   - unlink latest
   unlink [installation base path]/latest
   - create symlink from current installed version path to latest dir
   ln -s [installation base path]/version [installation base path]/latest
   - start liveController
   /etc/init.d/kLiveController start



